<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="EstimateConversionRateReportDAN" pageWidth="792" pageHeight="612" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="732" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="69b73100-c2f4-46bc-9fa3-a62a5fcabb9b">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="ireport.callouts" value="##Tue Apr 05 11:19:13 MDT 2022"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="9" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14" fontName="Open Sans" fontSize="14" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10b" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12b" fontName="Open Sans" fontSize="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="14b" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="16b" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="18b" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="24b" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10i" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="12i" fontName="Open Sans" fontSize="12" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="10bu" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header1" fontName="Open Sans" fontSize="24" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header2" fontName="Open Sans" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="header3" fontName="Open Sans" fontSize="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="addressHeader" fontName="Open Sans" fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="date" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="type" fontName="Open Sans" fontSize="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="address" fontName="Open Sans" fontSize="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="column_head" fontName="Open Sans" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="body" isDefault="true" fontName="Open Sans" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="note" isDefault="true" fontName="Open Sans" fontSize="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Zebra" fontName="Open Sans">
		<box leftPadding="3" rightPadding="3">
			<leftPen lineWidth="1.0" lineColor="#FFFFFF"/>
			<rightPen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{COLUMN_COUNT} % 2 == 0]]></conditionExpression>
			<style mode="Opaque" backcolor="#EAEAEA"/>
		</conditionalStyle>
	</style>
	<subDataset name="SOInfo" uuid="4b15957a-182e-4442-9265-e7e84736377e">
		<parameter name="path" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["C:/Program Files/Fishbowl/Server/reports/WorkOrder/"]]></defaultValueExpression>
		</parameter>
		<parameter name="module" class="java.lang.Object" isForPrompting="false">
			<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
		</parameter>
		<parameter name="ReportTitle" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Type an alternate title for this report"/>
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="dateRange1" class="java.util.Date" isForPrompting="false">
			<parameterDescription><![CDATA[This Month]]></parameterDescription>
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="dateRange2" class="java.util.Date" isForPrompting="false">
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="locationGroupID" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["-1"]]></defaultValueExpression>
		</parameter>
		<parameter name="customerID" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
		</parameter>
		<parameter name="cbOrder" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Column Sorting"/>
			<property name="Sort" value="4"/>
			<property name="Tooltip" value="Choose if the report should be sorted in ascending or descending order"/>
			<parameterDescription><![CDATA[ASC,Ascending,DESC,Descending]]></parameterDescription>
			<defaultValueExpression><![CDATA["ASC"]]></defaultValueExpression>
		</parameter>
		<parameter name="cbSortBy" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Column Sorting"/>
			<property name="Sort" value="3"/>
			<property name="Tooltip" value="Choose which column will be used to sort the report"/>
			<parameterDescription><![CDATA[1 $P!{cbOrder},SO Number,2 $P!{cbOrder},Part Number,3 $P!{cbOrder},Description,4 $P!{cbOrder},Qty Fulfilled,5 $P!{cbOrder},Qty Return,6 $P!{cbOrder},Qty Open]]></parameterDescription>
			<defaultValueExpression><![CDATA["1 $P!{cbOrder}"]]></defaultValueExpression>
		</parameter>
		<parameter name="salesPerson" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
count(*) AS ESTIMATECOUNT,
sum(if(dateIssued IS NOT NULL, 1, 0)) AS ISSUEDCOUNT,
sum(if(dateIssued IS NULL, 0, so.totalprice)) AS ORDEREDAMOUNT
FROM so

INNER JOIN customer ON customer.id = so.customerid
LEFT OUTER JOIN sysuser ON sysuser.id = customer.defaultsalesmanid

INNER JOIN (

SELECT DISTINCT so.id from so
INNER JOIN soitem ON so.id = soitem.soid
WHERE soitem.typeid = 10
AND so.dateCreated BETWEEN $P{dateRange1} AND DATE_SUB($P{dateRange2}, INTERVAL 1 SECOND)

) AS soresult ON soresult.id = so.id

INNER JOIN (
SELECT so_aud.id, so_aud.statusid, min(timestamp) AS dateEstimate  FROM so_aud
INNER JOIN revinfo ON revinfo.id = so_aud.rev
WHERE so_aud.statusId = 10
GROUP BY so_aud.id, so_aud.statusid) as result ON result.id = so.id
WHERE (TIMESTAMPDIFF(MINUTE, dateEstimate, dateIssued)  > 60 OR dateIssued IS NULL)
	   	AND so.dateCreated BETWEEN $P{dateRange1} AND DATE_SUB($P{dateRange2}, INTERVAL 1 SECOND)
    AND UPPER(coalesce(sysuser.username,"")) LIKE UPPER($P{salesPerson})
    AND customer.id LIKE '$P!{customerID}'
;]]>
		</queryString>
		<field name="ESTIMATECOUNT" class="java.lang.Double"/>
		<field name="ISSUEDCOUNT" class="java.lang.Double"/>
		<field name="ORDEREDAMOUNT" class="java.lang.Double"/>
		<variable name="PriceDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_PRICE")]]></variableExpression>
		</variable>
		<variable name="QtyDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_QTY")]]></variableExpression>
		</variable>
		<variable name="CostDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_COST")]]></variableExpression>
		</variable>
		<variable name="DateFormat" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[(System.getProperty("REPORT_DATE_FORMAT"))]]></variableExpression>
		</variable>
		<variable name="isMultiCurrency" class="java.lang.Boolean">
			<variableExpression><![CDATA[com.evnt.eve.modules.CurrencyModule.isMultiCurrency()]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="SOInfoDetails" uuid="a29b3cde-83b1-4468-bd5a-16d7f1edc0e0">
		<parameter name="path" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["C:/Program Files/Fishbowl/Server/reports/WorkOrder/"]]></defaultValueExpression>
		</parameter>
		<parameter name="module" class="java.lang.Object" isForPrompting="false">
			<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
		</parameter>
		<parameter name="ReportTitle" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Type an alternate title for this report"/>
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="dateRange1" class="java.util.Date" isForPrompting="false">
			<parameterDescription><![CDATA[This Month]]></parameterDescription>
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="dateRange2" class="java.util.Date" isForPrompting="false">
			<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
		</parameter>
		<parameter name="locationGroupID" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["-1"]]></defaultValueExpression>
		</parameter>
		<parameter name="customerID" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
		</parameter>
		<parameter name="salesPerson" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
		</parameter>
		<parameter name="cbOrder" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Column Sorting"/>
			<property name="Sort" value="4"/>
			<property name="Tooltip" value="Choose if the report should be sorted in ascending or descending order"/>
			<parameterDescription><![CDATA[ASC,Ascending,DESC,Descending]]></parameterDescription>
			<defaultValueExpression><![CDATA["ASC"]]></defaultValueExpression>
		</parameter>
		<parameter name="cbSortBy" class="java.lang.String" isForPrompting="false">
			<property name="Group" value="Column Sorting"/>
			<property name="Sort" value="3"/>
			<property name="Tooltip" value="Choose which column will be used to sort the report"/>
			<parameterDescription><![CDATA[3 $P!{cbOrder},Date Estimate,4 $P!{cbOrder},Date Issued,6 $P!{cbOrder},Customer,7 $P!{cbOrder},Defulat Salesperson,8 $P!{cbOrder},Order Amount]]></parameterDescription>
			<defaultValueExpression><![CDATA["8 $P!{cbOrder}"]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
so.id,
so.num AS SONUM,
dateEstimate AS DATEESTIMATE,
dateIssued AS DATEISSUED,
TIMESTAMPDIFF(HOUR, dateEstimate, dateIssued) AS AGE,
customer.name AS CUSTOMER,
concat(sysuser.firstname, ' ', sysuser.lastname)  AS DEFAULTSALESPERSON,
so.totalprice AS ORDEREDAMOUNT
FROM so

INNER JOIN customer ON customer.id = so.customerid
LEFT OUTER JOIN sysuser ON sysuser.id = customer.defaultsalesmanid

INNER JOIN (

SELECT DISTINCT so.id from so
INNER JOIN soitem ON so.id = soitem.soid
WHERE soitem.typeid = 10
AND so.dateCreated BETWEEN $P{dateRange1} AND DATE_SUB($P{dateRange2}, INTERVAL 1 SECOND)

) AS soresult ON soresult.id = so.id


INNER JOIN (
SELECT so_aud.id, so_aud.statusid, min(timestamp) AS dateEstimate  FROM so_aud
INNER JOIN revinfo ON revinfo.id = so_aud.rev
WHERE so_aud.statusId = 10
GROUP BY so_aud.id, so_aud.statusid) as result ON result.id = so.id
WHERE (TIMESTAMPDIFF(MINUTE, dateEstimate, if(dateIssued IS NOT NULL,dateIssued,now()) )  > 60 OR dateIssued IS NULL)
	   	AND so.dateCreated BETWEEN $P{dateRange1} AND DATE_SUB($P{dateRange2}, INTERVAL 1 SECOND)

  AND UPPER(coalesce(sysuser.username, "")) LIKE UPPER($P{salesPerson})
   		AND customer.id LIKE '$P!{customerID}'

ORDER BY $P!{cbSortBy}
;]]>
		</queryString>
		<field name="DATEESTIMATE" class="java.sql.Timestamp"/>
		<field name="DATEISSUED" class="java.sql.Timestamp"/>
		<field name="SONUM" class="java.lang.String"/>
		<field name="AGE" class="java.lang.Double"/>
		<field name="CUSTOMER" class="java.lang.String"/>
		<field name="DEFAULTSALESPERSON" class="java.lang.String"/>
		<field name="ORDEREDAMOUNT" class="java.lang.Double"/>
		<variable name="PriceDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_PRICE")]]></variableExpression>
		</variable>
		<variable name="QtyDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_QTY")]]></variableExpression>
		</variable>
		<variable name="CostDecimal" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[System.getProperty("REPORT_DECIMAL_COST")]]></variableExpression>
		</variable>
		<variable name="DateFormat" class="java.lang.String" resetType="None">
			<variableExpression><![CDATA[(System.getProperty("REPORT_DATE_FORMAT"))]]></variableExpression>
		</variable>
		<variable name="isMultiCurrency" class="java.lang.Boolean">
			<variableExpression><![CDATA[com.evnt.eve.modules.CurrencyModule.isMultiCurrency()]]></variableExpression>
		</variable>
		<variable name="TOTALORDEREDAMOUNT" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{ORDEREDAMOUNT}]]></variableExpression>
			<initialValueExpression><![CDATA[$F{ORDEREDAMOUNT}]]></initialValueExpression>
		</variable>
	</subDataset>
	<parameter name="path" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:/Program Files/Fishbowl/Server/reports/WorkOrder/"]]></defaultValueExpression>
	</parameter>
	<parameter name="module" class="java.lang.Object" isForPrompting="false">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORTDESCRIPTION" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["Estimate Conversion Rate Report"]]></defaultValueExpression>
	</parameter>
	<parameter name="ReportTitle" class="java.lang.String" isForPrompting="false">
		<property name="Group" value="Type an alternate title for this report"/>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dateRange1" class="java.util.Date" isForPrompting="false">
		<property name="Group" value="Select a SO created date range"/>
		<property name="Tooltip" value="Select a SO created date range"/>
		<parameterDescription><![CDATA[This Month]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="dateRange2" class="java.util.Date" isForPrompting="false">
		<property name="Group" value="Select a SO created date range"/>
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="salesPerson" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="customerID" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="cbOrder" class="java.lang.String" isForPrompting="false">
		<property name="Group" value="Column Sorting"/>
		<property name="Sort" value="4"/>
		<property name="Tooltip" value="Choose if the report should be sorted in ascending or descending order"/>
		<parameterDescription><![CDATA[ASC,Ascending,DESC,Descending]]></parameterDescription>
		<defaultValueExpression><![CDATA["ASC"]]></defaultValueExpression>
	</parameter>
	<parameter name="cbSortBy" class="java.lang.String" isForPrompting="false">
		<property name="Group" value="Column Sorting"/>
		<property name="Sort" value="3"/>
		<property name="Tooltip" value="Choose which column will be used to sort the report"/>
		<parameterDescription><![CDATA[3 $P!{cbOrder},Date Estimate,4 $P!{cbOrder},Date Issued,6 $P!{cbOrder},Customer,7 $P!{cbOrder},Defulat Salesperson,8 $P!{cbOrder},Order Amount]]></parameterDescription>
		<defaultValueExpression><![CDATA["8 $P!{cbOrder}"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
    COMPANY.NAME AS COMPANY

FROM
    company

WHERE id = 1]]>
	</queryString>
	<field name="COMPANY" class="java.lang.String"/>
	<variable name="DateFormat" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[(System.getProperty("REPORT_DATE_FORMAT"))]]></variableExpression>
	</variable>
	<pageHeader>
		<band height="64" splitType="Prevent">
			<printWhenExpression><![CDATA[!$P{IS_IGNORE_PAGINATION}]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="" mode="Transparent" x="0" y="40" width="732" height="14" forecolor="#000000" backcolor="#FFFFFF" uuid="94c5defb-2209-45a7-8e8b-2f0794306a3d">
					<printWhenExpression><![CDATA[true]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom" rotation="None">
					<font fontName="Open Sans" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dateRange1}.getYear() <= -900 && $P{dateRange2}.getYear() >= 1100
  ? "Date Range: All"
  : "Date Range: " + (new SimpleDateFormat($V{DateFormat})).format($P{dateRange1}) + " - " +
(new SimpleDateFormat($V{DateFormat})).format($P{dateRange2}.getTime()-129600000)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="" x="0" y="0" width="732" height="18" uuid="37929e84-e98f-4dd3-97bb-54fc9b6f5b5e"/>
				<box leftPadding="3" rightPadding="3"/>
				<textElement textAlignment="Center">
					<font fontName="Open Sans" size="13" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{COMPANY}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="" x="0" y="54" width="732" height="10" uuid="47bc6157-4181-4988-893c-38b83e3baf98"/>
				<box leftPadding="3" rightPadding="3"/>
				<textElement>
					<font fontName="Open Sans"/>
				</textElement>
				<textFieldExpression><![CDATA[" "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement key="" mode="Transparent" x="0" y="18" width="732" height="22" forecolor="#000000" backcolor="#FFFFFF" uuid="3c2c1bfd-2155-4bce-953c-e63b64e61e04"/>
				<box leftPadding="3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Open Sans" size="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ReportTitle}.equals("%") ? "Estimate Conversion Rate Report": $P{ReportTitle}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="30">
			<componentElement>
				<reportElement key="Show Details" x="0" y="0" width="732" height="30" uuid="3f5f93ed-b926-456d-9431-9255f472873a"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="SOInfo" uuid="5d371fbd-5dd6-4f8a-94ad-c3e2c1ceee08">
						<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="230" uuid="f9c47130-8c95-4e45-ac3a-f016a9f1d01b">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="230" height="29" uuid="4a106547-db5b-4aa5-99db-40fbc047a5d6"/>
								<box leftPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom" markup="none">
									<font fontName="Open Sans" size="10" isBold="true" isStrikeThrough="false"/>
								</textElement>
								<text><![CDATA[# of estimate orders]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="230" height="14" isPrintWhenDetailOverflows="true" uuid="dffb6604-39f8-40a9-8a66-4e3ded607ec4"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ESTIMATECOUNT}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{QtyDecimal}]]></patternExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="180" uuid="c1b50426-5990-4a7d-b258-193653320d5c">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="180" height="29" uuid="66ca3e7d-4991-4776-8c1b-2aaa98a62380"/>
								<box leftPadding="3" rightPadding="1">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[# of issued orders]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="180" height="14" isPrintWhenDetailOverflows="true" uuid="3c3a2df8-c652-4362-bffe-b0a67cb7b458"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ISSUEDCOUNT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="170" uuid="5446dd46-3a0a-4be9-b516-3a377a0bd395">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="170" height="29" uuid="dba5fa94-aeff-4b74-97da-d802623880eb"/>
								<box leftPadding="3" rightPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Percentage]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="#,##0.00 %" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="170" height="14" isPrintWhenDetailOverflows="true" uuid="a1c96fb3-1ef5-4dd6-9ebd-a10fd6be610c"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ISSUEDCOUNT}/$F{ESTIMATECOUNT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="140" uuid="5446dd46-3a0a-4be9-b516-3a377a0bd395">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="140" height="29" uuid="dba5fa94-aeff-4b74-97da-d802623880eb"/>
								<box leftPadding="3" rightPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Total Converted Amount]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="140" height="14" isPrintWhenDetailOverflows="true" uuid="a1c96fb3-1ef5-4dd6-9ebd-a10fd6be610c"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Right">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ORDEREDAMOUNT}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{PriceDecimal}]]></patternExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
		<band height="50">
			<componentElement>
				<reportElement key="Show Details" x="0" y="20" width="732" height="30" uuid="b7973535-1534-4da5-8e77-d262ce4ba35f"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="SOInfoDetails" uuid="3948e5fd-48c9-446f-b248-89894604369f">
						<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="80" uuid="18681141-02d1-4ab5-a0e4-0f5f268505b5">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="80" height="29" uuid="fe9e4d0a-4ca1-488a-ad5d-f2c3ab4b9fda"/>
								<box leftPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement verticalAlignment="Bottom" markup="none">
									<font fontName="Open Sans" size="10" isBold="true" isStrikeThrough="false"/>
								</textElement>
								<text><![CDATA[SO Number]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" hyperlinkType="Reference">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="80" height="14" isPrintWhenDetailOverflows="true" forecolor="#3333FF" uuid="b0c3caa6-2607-437f-907f-41c3a218bafc"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement>
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{SONUM}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{QtyDecimal}]]></patternExpression>
								<anchorNameExpression><![CDATA["SONum"]]></anchorNameExpression>
								<hyperlinkReferenceExpression><![CDATA[$F{SONUM}]]></hyperlinkReferenceExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="150" uuid="b5b543ad-0adf-48b1-b276-2347c4afc6b7">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="150" height="29" uuid="3562ade1-6d56-4f06-99be-ccaf942135e2"/>
								<box leftPadding="3" rightPadding="1">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Customer]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="150" height="14" isPrintWhenDetailOverflows="true" uuid="179ca462-e1ee-4115-b88a-69be1dfab849"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement>
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CUSTOMER}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="80" uuid="b5b543ad-0adf-48b1-b276-2347c4afc6b7">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="80" height="29" uuid="3562ade1-6d56-4f06-99be-ccaf942135e2"/>
								<box leftPadding="3" rightPadding="1">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Default Salesperson]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy HH.mm.ss" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="80" height="14" isPrintWhenDetailOverflows="true" uuid="179ca462-e1ee-4115-b88a-69be1dfab849"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement>
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DEFAULTSALESPERSON}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="100" uuid="b5b543ad-0adf-48b1-b276-2347c4afc6b7">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="100" height="29" uuid="3562ade1-6d56-4f06-99be-ccaf942135e2"/>
								<box leftPadding="3" rightPadding="1">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[SO Estimate Date Time]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="MM/dd/yyyy HH.mm.ss" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="100" height="14" isPrintWhenDetailOverflows="true" uuid="179ca462-e1ee-4115-b88a-69be1dfab849"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DATEESTIMATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="100" uuid="de178e74-2feb-4708-b9b9-01ebba6f0c5f">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="100" height="29" uuid="50e48384-09ae-48ab-a9ea-0d754d9b651d"/>
								<box leftPadding="3" rightPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[SO Date Issued]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy HH.mm.ss" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="100" height="14" isPrintWhenDetailOverflows="true" uuid="c8055ec9-70d2-4e1c-a856-64a133d481ed"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DATEISSUED}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="70" uuid="de178e74-2feb-4708-b9b9-01ebba6f0c5f">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="70" height="29" uuid="50e48384-09ae-48ab-a9ea-0d754d9b651d"/>
								<box leftPadding="3" rightPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Age in Hours]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="15" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="70" height="15" isPrintWhenDetailOverflows="true" uuid="5f86e917-e59b-42c2-a982-85b0c0e68ada"/>
								<box topPadding="2" leftPadding="3" rightPadding="3">
									<topPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Right">
									<font fontName="Open Sans" size="9" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["Total"]]></textFieldExpression>
								<patternExpression><![CDATA[$V{PriceDecimal}]]></patternExpression>
							</textField>
						</jr:columnFooter>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="70" height="14" isPrintWhenDetailOverflows="true" uuid="c8055ec9-70d2-4e1c-a856-64a133d481ed"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Center">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{AGE}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{QtyDecimal}]]></patternExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="140" uuid="de178e74-2feb-4708-b9b9-01ebba6f0c5f">
						<jr:columnHeader height="29" rowSpan="1">
							<staticText>
								<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="0" y="0" width="140" height="29" uuid="50e48384-09ae-48ab-a9ea-0d754d9b651d"/>
								<box leftPadding="3" rightPadding="3">
									<bottomPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Bottom">
									<font fontName="Open Sans" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Order Amount]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="15" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="140" height="15" isPrintWhenDetailOverflows="true" uuid="8a735ed1-7a60-45ee-9047-7e5d53831510"/>
								<box topPadding="2" leftPadding="3" rightPadding="3">
									<topPen lineWidth="1.0"/>
								</box>
								<textElement textAlignment="Right">
									<font fontName="Open Sans" size="9" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{TOTALORDEREDAMOUNT}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{PriceDecimal}]]></patternExpression>
							</textField>
						</jr:columnFooter>
						<jr:detailCell height="14" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement style="Zebra" stretchType="RelativeToBandHeight" x="0" y="0" width="140" height="14" isPrintWhenDetailOverflows="true" uuid="c8055ec9-70d2-4e1c-a856-64a133d481ed"/>
								<box topPadding="2" leftPadding="3" rightPadding="3"/>
								<textElement textAlignment="Right">
									<font fontName="Open Sans" size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ORDEREDAMOUNT}]]></textFieldExpression>
								<patternExpression><![CDATA[$V{PriceDecimal}]]></patternExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="15" splitType="Prevent">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="" mode="Transparent" x="603" y="0" width="87" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="f2a60207-d5ef-464a-9ee1-cea13307187c">
					<printWhenExpression><![CDATA[!$P{IS_IGNORE_PAGINATION}]]></printWhenExpression>
				</reportElement>
				<box leftPadding="0" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="" mode="Transparent" x="690" y="0" width="42" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="ed3dbc3c-3d28-4c1c-b533-1d67ed250faa">
					<printWhenExpression><![CDATA[!$P{IS_IGNORE_PAGINATION}]]></printWhenExpression>
				</reportElement>
				<box leftPadding="0" rightPadding="0">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="" mode="Transparent" x="0" y="0" width="330" height="15" forecolor="#000000" backcolor="#FFFFFF" uuid="56b2b712-9bd8-4a08-aaf5-3003d410f6b4">
					<printWhenExpression><![CDATA[!$P{IS_IGNORE_PAGINATION}]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
					<font fontName="Open Sans" size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[(DateFormat.getDateTimeInstance(DateFormat.LONG,DateFormat.LONG)).format(new Date())]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
